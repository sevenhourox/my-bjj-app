(()=>{"use strict";var e={3844:(e,t,r)=>{var l=r(3806),o=r(6665),a=r(3929),s=r(6283),i=r(3668),n=r(2772),d=r(4701),u=r(484),c=r(6773),f=r(5648),h=r(673),p=r(9632),g=r(6335),m=r(378),y=r(397);const x=(0,m.createClient)("https://lvrukwnevxshclzmperz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2cnVrd25ldnhzaGNsem1wZXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MzY2MDksImV4cCI6MjA2NTUxMjYwOX0.dUh68ZFt3CMbPIDwGwvddxuhrmDNnrRcch2f9XDFoKM"),b=({styles:e})=>(0,y.jsxs)(a.default,{style:e.header,children:[(0,y.jsx)(u.default,{source:r(4082),style:e.logo}),(0,y.jsx)(s.default,{style:e.title,children:"Bjj Outbox Login"})]}),j=({styles:e,email:t,setEmail:r,password:l,setPassword:o,handleLogin:i,handleSignup:n,handleForgotPassword:d,isDarkMode:u})=>(0,y.jsxs)(a.default,{style:e.loginBox,children:[(0,y.jsx)(c.default,{style:e.input,placeholder:"Email",placeholderTextColor:u?"#aaa":"#555",value:t,onChangeText:r,keyboardType:"email-address",autoCapitalize:"none"}),(0,y.jsx)(c.default,{style:e.input,placeholder:"Password",placeholderTextColor:u?"#aaa":"#555",value:l,onChangeText:o,secureTextEntry:!0}),(0,y.jsx)(f.default,{style:e.loginButton,onPress:i,children:(0,y.jsx)(s.default,{style:e.loginButtonText,children:"Login"})}),(0,y.jsx)(f.default,{style:[e.loginButton,{backgroundColor:"#555",marginTop:10}],onPress:n,children:(0,y.jsx)(s.default,{style:e.loginButtonText,children:"Sign Up"})}),(0,y.jsx)(f.default,{style:[e.loginButton,{backgroundColor:"#888",marginTop:10}],onPress:d,children:(0,y.jsx)(s.default,{style:e.loginButtonText,children:"Forgot Password?"})})]}),v=({styles:e,activeTab:t,setActiveTab:l,handleLogout:o})=>(0,y.jsxs)(a.default,{style:e.header,children:[(0,y.jsx)(u.default,{source:r(4082),style:e.logo}),(0,y.jsx)(s.default,{style:e.title,children:"BJJ Outbox Video Library"}),(0,y.jsxs)(a.default,{style:e.menuBar,children:[["videos","profile","store"].map(r=>(0,y.jsx)(f.default,{onPress:()=>l(r),children:(0,y.jsx)(s.default,{style:[e.menuItem,t===r&&{textDecorationLine:"underline"}],children:r.charAt(0).toUpperCase()+r.slice(1)})},r)),(0,y.jsx)(f.default,{onPress:o,children:(0,y.jsx)(s.default,{style:e.menuItem,children:"Logout"})})]})]}),w=({styles:e,storeItems:t,cart:r,addToCart:l})=>(0,y.jsxs)(n.default,{children:[t.map(t=>(0,y.jsxs)(a.default,{style:e.card,children:[(0,y.jsx)(s.default,{style:e.videoTitle,children:t.name}),(0,y.jsx)(s.default,{style:e.videoDesc,children:t.price}),(0,y.jsx)(f.default,{style:e.videoPlaceholder,onPress:()=>l(t),children:(0,y.jsx)(s.default,{style:e.placeholderText,children:"Add to Cart"})})]},t.id)),r.length>0&&(0,y.jsxs)(a.default,{style:e.card,children:[(0,y.jsx)(s.default,{style:e.videoTitle,children:"Cart"}),r.map((t,r)=>(0,y.jsxs)(s.default,{style:e.videoDesc,children:[t.name," \u2013 ",t.price]},r)),(0,y.jsx)(f.default,{style:e.videoPlaceholder,onPress:()=>p.default.openURL(r[0].link),children:(0,y.jsx)(s.default,{style:e.placeholderText,children:"Checkout"})})]})]}),C=e=>i.default.create({container:{flex:1,padding:20,backgroundColor:e?"#121212":"#f0f0f0"},header:{alignItems:"center",marginBottom:20},menuBar:{flexDirection:"row",justifyContent:"space-around",marginTop:10},menuItem:{fontSize:16,fontWeight:"bold",color:e?"#fff":"#000",marginHorizontal:10},logo:{width:200,height:80,resizeMode:"contain"},title:{fontSize:24,fontWeight:"bold",marginTop:10,color:e?"#fff":"#222"},loginBox:{marginTop:20},input:{height:50,borderColor:e?"#444":"#ccc",borderWidth:1,borderRadius:8,marginBottom:15,paddingHorizontal:10,backgroundColor:e?"#1e1e1e":"#fff",color:e?"#fff":"#000"},loginButton:{backgroundColor:"#e11d48",paddingVertical:12,borderRadius:8,alignItems:"center"},loginButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},card:{marginBottom:20,padding:15,borderWidth:1,borderColor:e?"#444":"#ccc",borderRadius:10,backgroundColor:e?"#1e1e1e":"#fff"},videoTitle:{fontSize:18,fontWeight:"600",marginBottom:8,color:e?"#fff":"#000"},videoDesc:{fontSize:14,color:e?"#aaa":"#666",marginBottom:10},thumbnailWrapper:{position:"relative",width:"100%",height:200,marginBottom:10,borderRadius:8,overflow:"hidden"},thumbnail:{width:"100%",height:"100%"},playOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.3)"},playIcon:{fontSize:50,color:"#fff"},videoPlaceholder:{height:50,backgroundColor:e?"#333":"#ddd",justifyContent:"center",alignItems:"center",borderRadius:8},placeholderText:{color:e?"#aaa":"#555",fontSize:14}}),T=()=>{const[e,t]=(0,o.useState)(!1),[r,l]=(0,o.useState)(""),[i,c]=(0,o.useState)(""),[p,m]=(0,o.useState)("videos"),[T,P]=(0,o.useState)([]),[I,k]=(0,o.useState)(!1),[S,O]=(0,o.useState)(null),B="dark"===(0,h.default)(),z=C(B),D=async()=>{const{error:e}=await x.auth.signInWithPassword({email:r,password:i});if(e)return alert("Login failed: "+e.message);t(!0);const{data:l}=await x.from("users").select("has_paid").eq("email",r).single();k(l?.has_paid||!1)},L=async()=>{const{error:e}=await x.auth.signUp({email:r,password:i});e?alert("Signup failed: "+e.message):alert("Account created! You can now log in.")},M=async()=>{if(!r)return alert("Enter your email first.");const{error:e}=await x.auth.resetPasswordForEmail(r);e?alert("Reset failed: "+e.message):alert("Password reset link sent.")};return e?(0,y.jsxs)(d.default,{style:z.container,children:[(0,y.jsx)(v,{styles:z,activeTab:p,setActiveTab:m,handleLogout:async()=>{const{error:e}=await x.auth.signOut();if(e)return alert("Logout failed: "+e.message);t(!1),l(""),c(""),m("videos"),k(!1),O(null)}}),S&&(0,y.jsxs)(a.default,{style:{flex:1},children:[(0,y.jsx)(f.default,{onPress:()=>O(null),style:{padding:10,backgroundColor:"#e11d48"},children:(0,y.jsx)(s.default,{style:{color:"#fff",textAlign:"center"},children:"Close Video"})}),(0,y.jsx)(g.WebView,{style:{flex:1},javaScriptEnabled:!0,domStorageEnabled:!0,source:{uri:S.replace("youtu.be/","www.youtube.com/embed/").replace("watch?v=","embed/")}})]}),!S&&"videos"===p&&(0,y.jsx)(n.default,{children:[{id:1,title:"Professor Dave Intro + Half Guard",description:"Learn the basic half guard basics",url:"https://youtu.be/FzcHQ7-RHNY",premium:!1},{id:2,title:"Professor Dave \u2013 Closed Guard Fundamentals",description:"A strong way to control your opponent.",url:"https://youtu.be/z3-HJqaemG0",premium:!0}].map(e=>{const t=`https://img.youtube.com/vi/${e.url.includes("youtu.be")?e.url.split("/").pop():e.url.split("v=")[1]}/0.jpg`,r=e.premium&&!I,l=r?()=>m("store"):()=>O(e.url);return(0,y.jsxs)(a.default,{style:z.card,children:[(0,y.jsx)(s.default,{style:z.videoTitle,children:e.title}),(0,y.jsx)(s.default,{style:z.videoDesc,children:e.description}),(0,y.jsx)(f.default,{onPress:l,children:(0,y.jsxs)(a.default,{style:z.thumbnailWrapper,children:[(0,y.jsx)(u.default,{source:{uri:t},style:z.thumbnail}),(0,y.jsx)(a.default,{style:z.playOverlay,children:(0,y.jsx)(s.default,{style:z.playIcon,children:r?"\ud83d\udd12":"\u25b6"})})]})})]},e.id)})}),!S&&"profile"===p&&(0,y.jsxs)(a.default,{style:z.card,children:[(0,y.jsxs)(s.default,{style:z.videoTitle,children:["Welcome, ",r]}),(0,y.jsxs)(s.default,{style:z.videoDesc,children:["Access: ",I?"Premium":"Free only"]})]}),!S&&"store"===p&&(0,y.jsx)(w,{styles:z,storeItems:[{id:"premium01",name:"Premium Video Pack",price:"$29.99",link:"https://buy.stripe.com/28E5kEcbU11a6ls7JR7IY00"}],cart:T,addToCart:e=>P([...T,e])})]}):(0,y.jsxs)(d.default,{style:z.container,children:[(0,y.jsx)(b,{styles:z}),(0,y.jsx)(j,{styles:z,email:r,setEmail:l,password:i,setPassword:c,handleLogin:D,handleSignup:L,handleForgotPassword:M,isDarkMode:B})]})};(0,l.default)(T)},4082:(e,t,r)=>{e.exports=r.p+"static/media/logo.85f7b8ca86a519ffb743.png"}},t={};function r(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,l,o,a)=>{if(!l){var s=1/0;for(u=0;u<e.length;u++){for(var[l,o,a]=e[u],i=!0,n=0;n<l.length;n++)(!1&a||s>=a)&&Object.keys(r.O).every(e=>r.O[e](l[n]))?l.splice(n--,1):(i=!1,a<s&&(s=a));if(i){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[l,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,l)=>{var o,a,[s,i,n]=l,d=0;if(s.some(t=>0!==e[t])){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(n)var u=n(r)}for(t&&t(l);d<s.length;d++)a=s[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},l=self.webpackChunkweb=self.webpackChunkweb||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var l=r.O(void 0,[569],()=>r(3844));l=r.O(l)})();
//# sourceMappingURL=main.301d436d.js.map